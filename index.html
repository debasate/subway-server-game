<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>üéÆ Game Hub - Choose Your Adventure!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-size: 100% 100%;
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
            overflow-y: auto;
            padding: 20px 0;
            margin: 0;
            /* Chrome scrolling fixes */
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
        }

        .container {
            text-align: center;
            max-width: 1200px;
            padding: 40px 20px;
            position: relative;
            z-index: 2;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            margin: 0 auto;
            /* Chrome rendering improvements */
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            will-change: scroll-position;
        }

        .announcement-banner {
            background: linear-gradient(135deg, #ff6b6b, #feca57, #48dbfb);
            background-size: 300% 300%;
            animation: gradientShift 3s ease infinite;
            padding: 15px 25px;
            border-radius: 25px;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .announcement-content {
            position: relative;
            z-index: 2;
        }

        .announcement-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .announcement-text {
            font-size: 1.1em;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            margin-bottom: 10px;
        }

        .announcement-countdown {
            font-size: 0.9em;
            color: #fff;
            background: rgba(0, 0, 0, 0.3);
            padding: 5px 15px;
            border-radius: 15px;
            display: inline-block;
            font-weight: bold;
        }

        .announcement-close {
            position: absolute;
            top: 10px;
            right: 15px;
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .announcement-close:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }

        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes slideOut {
            0% {
                transform: translateY(0);
                opacity: 1;
            }

            100% {
                transform: translateY(-100%);
                opacity: 0;
            }
        }

        .announcement-banner.hidden {
            display: none;
        }

        .external-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            /* Chrome positioning fix */
            position: relative;
            z-index: 10;
        }

        .external-link {
            display: inline-block;
            padding: 12px 25px;
            background: linear-gradient(45deg, #6c5ce7, #a29bfe);
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 1.1em;
            font-weight: bold;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.3);
        }

        .external-link:hover {
            background: linear-gradient(45deg, #5f3dc4, #845ef7);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-3px);
            -webkit-transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(108, 92, 231, 0.5);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .title {
            font-size: 4em;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        .subtitle {
            font-size: 1.8em;
            margin-bottom: 60px;
            opacity: 0.9;
            font-weight: 300;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 40px 30px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.02);
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .game-icon {
            font-size: 6em;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        .game-card:nth-child(2) .game-icon {
            animation-delay: -1.5s;
        }

        .game-title {
            font-size: 2.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #fff;
        }

        .game-description {
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.8;
            line-height: 1.5;
        }

        .game-features {
            list-style: none;
            margin-bottom: 30px;
        }

        .game-features li {
            margin: 8px 0;
            font-size: 1em;
            opacity: 0.9;
        }

        .play-btn {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            border: none;
            border-radius: 50px;
            padding: 15px 40px;
            font-size: 1.3em;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .play-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            background: linear-gradient(45deg, #ff5252, #ffc107);
        }

        .play-btn:active {
            transform: translateY(-1px);
        }

        .stats-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 40px;
        }

        .update-log-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .update-log-title {
            font-size: 1.8em;
            margin-bottom: 25px;
            color: #ffd700;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .update-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #ffd700;
            transition: all 0.3s ease;
        }

        .update-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .update-item.latest {
            border-left-color: #32CD32;
            background: rgba(50, 205, 50, 0.1);
        }

        .update-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .update-version {
            font-size: 1.3em;
            font-weight: bold;
            color: #fff;
        }

        .update-date {
            font-size: 0.9em;
            color: #ccc;
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 10px;
            border-radius: 15px;
        }

        .update-content {
            line-height: 1.6;
        }

        .update-content ul {
            list-style: none;
            padding: 0;
        }

        .update-content li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .update-content li:before {
            content: "‚ú®";
            position: absolute;
            left: 0;
            top: 0;
        }

        .update-item.latest .update-content li:before {
            content: "üÜï";
        }

        .toggle-updates {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .toggle-updates:hover {
            background: linear-gradient(45deg, #5a67d8, #6b46c1);
            transform: translateY(-2px);
        }

        .stats-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #ffd700;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1em;
            opacity: 0.8;
        }

        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .shape {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: floatUp 15s infinite linear;
        }

        .shape:nth-child(1) {
            left: 10%;
            width: 80px;
            height: 80px;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            left: 20%;
            width: 120px;
            height: 120px;
            animation-delay: 2s;
        }

        .shape:nth-child(3) {
            left: 35%;
            width: 60px;
            height: 60px;
            animation-delay: 4s;
        }

        .shape:nth-child(4) {
            left: 70%;
            width: 100px;
            height: 100px;
            animation-delay: 6s;
        }

        .shape:nth-child(5) {
            left: 85%;
            width: 90px;
            height: 90px;
            animation-delay: 8s;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            }

            to {
                text-shadow: 0 0 40px rgba(255, 255, 255, 0.6);
            }
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes floatUp {
            from {
                transform: translateY(100vh) rotate(0deg);
                opacity: 1;
            }

            to {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Chrome-specific fixes */
        @supports (-webkit-backdrop-filter: blur(10px)) {

            .external-links,
            .game-card,
            .stats-section {
                -webkit-backdrop-filter: blur(10px);
                backdrop-filter: blur(10px);
            }
        }

        /* Fallback for older Chrome versions */
        @media screen and (-webkit-min-device-pixel-ratio:0) {
            body {
                background-attachment: scroll;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 10px 0;
            }

            .container {
                padding: 20px 10px;
                min-height: auto;
            }

            .external-links {
                flex-direction: column;
                gap: 15px;
                padding: 15px;
                margin-bottom: 20px;
            }

            .external-link {
                font-size: 1em;
                padding: 10px 20px;
            }

            .title {
                font-size: 2.5em;
                margin-bottom: 15px;
            }

            .subtitle {
                font-size: 1.3em;
                margin-bottom: 40px;
            }

            .games-grid {
                grid-template-columns: 1fr;
                gap: 30px;
                margin-bottom: 40px;
            }

            .game-card {
                padding: 30px 20px;
            }

            .game-icon {
                font-size: 4em;
            }

            .game-title {
                font-size: 1.8em;
            }

            .update-log-section {
                padding: 20px 15px;
                margin-top: 30px;
            }

            .update-log-title {
                font-size: 1.5em;
                flex-direction: column;
                gap: 15px;
            }

            .update-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .update-version {
                font-size: 1.1em;
            }

            .update-item {
                padding: 15px;
            }

            .toggle-updates {
                font-size: 0.9em;
                padding: 8px 15px;
            }

            .announcement-banner {
                padding: 12px 15px;
                margin-bottom: 20px;
            }

            .announcement-title {
                font-size: 1.2em;
                flex-direction: column;
                gap: 5px;
            }

            .announcement-text {
                font-size: 1em;
                margin-bottom: 8px;
            }

            .announcement-countdown {
                font-size: 0.8em;
                padding: 4px 12px;
            }

            .announcement-close {
                top: 8px;
                right: 12px;
                width: 22px;
                height: 22px;
                font-size: 1em;
            }
        }

        /* Auth System Styles */
        .auth-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .auth-button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .auth-button:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .user-info {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: 8px 16px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-name {
            color: white;
            font-weight: bold;
            font-size: 14px;
        }

        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 4px 8px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .auth-modal.show {
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .auth-modal-content {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 40px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            animation: slideIn 0.4s ease;
        }

        .auth-modal h2 {
            color: white;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .auth-input {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px 20px;
            color: white;
            font-size: 16px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .auth-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .auth-input:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.5);
            background: rgba(255, 255, 255, 0.2);
        }

        .auth-submit {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            border-radius: 15px;
            padding: 15px 20px;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .auth-switch {
            margin-top: 20px;
            color: rgba(255, 255, 255, 0.8);
        }

        .auth-switch-link {
            color: white;
            text-decoration: underline;
            cursor: pointer;
            font-weight: bold;
        }

        .auth-switch-link:hover {
            color: #667eea;
        }

        .auth-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .auth-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .auth-error {
            background: rgba(255, 59, 48, 0.2);
            border: 1px solid rgba(255, 59, 48, 0.5);
            border-radius: 10px;
            padding: 10px;
            margin: 10px 0;
            color: #ff3b30;
            font-size: 14px;
        }

        /* Server Status Styles */
        .server-status {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            color: white;
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 6px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .server-status.online {
            background: rgba(52, 199, 89, 0.2);
            border: 1px solid rgba(52, 199, 89, 0.5);
        }

        .server-status.offline {
            background: rgba(255, 59, 48, 0.2);
            border: 1px solid rgba(255, 59, 48, 0.5);
        }

        @media (max-width: 768px) {
            .auth-container {
                top: 10px;
                right: 10px;
            }

            .auth-modal-content {
                padding: 30px 20px;
                margin: 20px;
            }

            .auth-input,
            .auth-submit {
                font-size: 14px;
                padding: 12px 15px;
            }

            .server-status {
                top: 10px;
                left: 10px;
                font-size: 10px;
                padding: 6px 10px;
            }
        }
    </style>
</head>

<body>
    <!-- Authentication System -->
    <div class="auth-container" id="auth-container">
        <button class="auth-button" id="login-btn" onclick="openAuthModal('login')">Login</button>
    </div>

    <!-- Authentication Modal -->
    <div class="auth-modal" id="auth-modal">
        <div class="auth-modal-content">
            <button class="auth-close" onclick="closeAuthModal()">√ó</button>
            <h2 id="auth-title">Login</h2>
            <div id="auth-error" class="auth-error" style="display: none;"></div>
            <form class="auth-form" id="auth-form" onsubmit="handleAuth(event)">
                <input type="text" id="auth-username" class="auth-input" placeholder="Username" required>
                <input type="password" id="auth-password" class="auth-input" placeholder="Password" required>
                <input type="password" id="auth-confirm" class="auth-input" placeholder="Confirm Password"
                    style="display: none;">
                <button type="submit" class="auth-submit" id="auth-submit-btn">Login</button>
            </form>
            <div class="auth-switch">
                <span id="auth-switch-text">Don't have an account?</span>
                <span class="auth-switch-link" id="auth-switch-link" onclick="switchAuthMode()">Register</span>
            </div>
        </div>
    </div>

    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="container">
        <!-- Server Status Indicator -->
        <div id="server-status" class="server-status">
            <span id="server-indicator">üî¥</span>
            <span id="server-text">Checking server...</span>
        </div>

        <!-- External Links -->
        <div class="external-links">
            <a href="https://gtstijn.site" target="_blank" class="external-link">üåê GTStijn.site</a>
            <a href="https://echobots.gg" target="_blank" class="external-link">ü§ñ EchoBots.gg</a>
            <a href="fps-game.html" class="external-link">üî´ FPS Arena</a>
        </div>

        <!-- Announcement Banner -->
        <div class="announcement-banner" id="announcement-banner">
            <button class="announcement-close" onclick="closeAnnouncement()" title="Close announcement">√ó</button>
            <div class="announcement-content">
                <div class="announcement-title">
                    üì¢ Regular Updates Coming!
                </div>
                <div class="announcement-text">
                    New features and improvements every 2 days! Stay tuned for exciting updates to both games.
                </div>
                <div class="announcement-countdown" id="countdown-timer">
                    Next update in: Loading...
                </div>
            </div>
        </div>

        <h1 class="title">üéÆ Game Hub</h1>
        <p class="subtitle">Choose Your Adventure!</p>

        <div class="games-grid">
            <!-- Subway Surfer Game -->
            <div class="game-card">
                <div class="game-icon">üöá</div>
                <h2 class="game-title">Subway Surfer</h2>
                <p class="game-description">
                    Run, jump and surf through endless subway tracks! Avoid obstacles, collect coins, and unlock awesome
                    characters.
                </p>
                <ul class="game-features">
                    <li>üèÉ‚Äç‚ôÇÔ∏è Endless running action</li>
                    <li>ü™ô Collect coins and power-ups</li>
                    <li>üé® Unlock cool skins & characters</li>
                    <li>‚ö° Epic power-ups and abilities</li>
                    <li>üèÜ Achievement system</li>
                </ul>
                <button class="play-btn" onclick="playSubway()">Play Subway</button>
            </div>

            <!-- Cookie Clicker Game -->
            <div class="game-card">
                <div class="game-icon">üç™</div>
                <h2 class="game-title">Cookie Clicker</h2>
                <p class="game-description">
                    Click cookies to build your baking empire! Buy buildings, unlock upgrades, and become the ultimate
                    cookie tycoon.
                </p>
                <ul class="game-features">
                    <li>üç™ Click to bake cookies</li>
                    <li>üè≠ Build cookie factories</li>
                    <li>‚¨ÜÔ∏è Unlock powerful upgrades</li>
                    <li>üìà Idle progression system</li>
                    <li>üèÜ Achievement rewards</li>
                </ul>
                <button class="play-btn" onclick="playCookie()">Play Cookie</button>
            </div>

            <!-- FPS Arena Game -->
            <div class="game-card">
                <div class="game-icon">üî´</div>
                <h2 class="game-title">FPS Arena</h2>
                <p class="game-description">
                    Battle 9 NPCs in a fast-paced FPS arena! WASD to move, mouse to aim, 1/2 to switch weapons, R to
                    reload.
                </p>
                <ul class="game-features">
                    <li>üî´ First-person shooter action</li>
                    <li>ü§ñ 9 intelligent NPC enemies</li>
                    <li>üîÑ Weapon switching & reload</li>
                    <li>üí• Muzzle flash & hit marker effects</li>
                    <li>üèÜ Scoreboard & victory screen</li>
                </ul>
                <button class="play-btn" onclick="playFPS()">Play FPS</button>
            </div>
        </div>

        <!-- Player Statistics -->
        <div class="stats-section">
            <h3 class="stats-title">üèÜ Your Gaming Statistics</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="total-coins">0</div>
                    <div class="stat-label">Total Coins Earned</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="total-cookies">0</div>
                    <div class="stat-label">Total Cookies Baked</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="games-played">0</div>
                    <div class="stat-label">Games Played</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="achievements">0</div>
                    <div class="stat-label">Achievements Unlocked</div>
                </div>
            </div>
        </div>

        <!-- Multiplayer Leaderboard -->
        <div class="stats-section" id="leaderboard-section">
            <h3 class="stats-title">üåç Multiplayer Leaderboard</h3>
            <table style="width:100%;background:rgba(0,0,0,0.2);border-radius:15px;color:#fff;margin-bottom:20px;">
                <thead>
                    <tr style="background:rgba(255,255,255,0.1);">
                        <th style="padding:10px;">Rank</th>
                        <th style="padding:10px;">Player</th>
                        <th style="padding:10px;">Total Score</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-body">
                    <!-- Leaderboard rows will be inserted here -->
                </tbody>
            </table>
            <div style="font-size:0.9em;opacity:0.7;">Scores are updated locally. For online leaderboard, connect to
                server.</div>
        </div>

        <!-- Update Log Section -->
        <div class="update-log-section">
            <h3 class="update-log-title">
                üìã Game Hub Update Log
                <button class="toggle-updates" onclick="toggleUpdateLog()">Show All Updates</button>
            </h3>

            <div id="updates-container">
                <!-- Latest Update -->
                <div class="update-item latest">
                    <div class="update-header">
                        <div class="update-version">v1.6.0 - Wednesday Coin Boost & UI Fixes</div>
                        <div class="update-date">October 1, 2025</div>
                    </div>
                    <div class="update-content">
                        <ul>
                            <li>Wednesday Coin Boost: 2x coins every Wednesday! ü™ô</li>
                            <li>Fixed all game buttons (Subway, Cookie, FPS)</li>
                            <li>Secure password hashing with SHA-256</li>
                            <li>CORS support for online features</li>
                            <li>Enhanced online/offline authentication system</li>
                        </ul>
                    </div>
                </div>

                <!-- Hidden Updates (shown when expanded) -->
                <div id="older-updates" style="display: none;">
                    <div class="update-item">
                        <div class="update-header">
                            <div class="update-version">v1.5.0 - Leaderboard added</div>
                            <div class="update-date">September 30, 2025</div>
                        </div>
                        <div class="update-content">
                            <ul>
                                <li>Leaderboard added for all games (combined)</li>
                                <li>Buttons fixed for Subway and FPS Arena</li>
                                <li>General bugfixes and improvements</li>
                            </ul>
                        </div>
                    </div>

                    <div class="update-item">
                        <div class="update-header">
                            <div class="update-version">v1.3.0 - Cookie Clicker Enhancements</div>
                            <div class="update-date">September 23, 2025</div>
                        </div>
                        <div class="update-content">
                            <ul>
                                <li>Complete Dutch to English translation</li>
                                <li>Real-time visual feedback system for shop items</li>
                                <li>Progress bars showing purchase progress</li>
                                <li>Enhanced "BUY!" and "Too expensive" indicators</li>
                                <li>Improved Cookie Clicker gameplay balance</li>
                            </ul>
                        </div>
                    </div>

                    <div class="update-item">
                        <div class="update-header">
                            <div class="update-version">v1.2.0 - Subway Surfer Polish</div>
                            <div class="update-date">September 22, 2025</div>
                        </div>
                        <div class="update-content">
                            <ul>
                                <li>Added comprehensive game mode selection</li>
                                <li>Implemented theme system with unlockables</li>
                                <li>Enhanced mobile controls and touch support</li>
                                <li>Achievement system with rewards</li>
                                <li>Statistics tracking and leaderboards</li>
                            </ul>
                        </div>
                    </div>

                    <div class="update-item">
                        <div class="update-header">
                            <div class="update-version">v1.1.0 - Core Games Launch</div>
                            <div class="update-date">September 21, 2025</div>
                        </div>
                        <div class="update-content">
                            <ul>
                                <li>Launched Subway Surfer endless runner game</li>
                                <li>Released Cookie Clicker incremental game</li>
                                <li>Implemented save/load functionality</li>
                                <li>Basic UI and styling framework</li>
                                <li>Git backup system with PowerShell automation</li>
                            </ul>
                        </div>
                    </div>

                    <div class="update-item">
                        <div class="update-header">
                            <div class="update-version">v1.0.0 - Initial Release</div>
                            <div class="update-date">September 20, 2025</div>
                        </div>
                        <div class="update-content">
                            <ul>
                                <li>Project initialization and repository setup</li>
                                <li>Basic HTML structure and CSS framework</li>
                                <li>Development environment configuration</li>
                                <li>Version control and backup systems</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Load and display statistics
        function loadStats() {
            // Load Subway stats
            const subwayStats = JSON.parse(localStorage.getItem('gameStats') || '{}');
            document.getElementById('total-coins').textContent = subwayStats.totalCoinsEarned || 0;

            // Load Cookie Clicker stats
            const cookieStats = JSON.parse(localStorage.getItem('cookieClickerSave') || '{}');
            const cookieGameState = cookieStats.gameState || {};
            document.getElementById('total-cookies').textContent = Math.floor(cookieGameState.totalCookies || 0);

            // Calculate total games played (estimate)
            const gamesPlayed = (subwayStats.gamesPlayed || 0) + (cookieGameState.sessionCookies > 0 ? 1 : 0);
            document.getElementById('games-played').textContent = gamesPlayed;

            // Calculate achievements (estimate)
            const achievements = (subwayStats.achievements || []).length +
                (cookieStats.achievements || []).filter(a => a.unlocked).length;
            document.getElementById('achievements').textContent = achievements;
        }

        // Navigation functions
        function playSubway() {
            window.location.href = 'subway-game.html';
        }

        function playCookie() {
            window.location.href = 'cookie-clicker.html';
        }

        function playFPS() {
            window.location.href = 'fps-game.html';
        }

        // Update Log Toggle
        function toggleUpdateLog() {
            const olderUpdates = document.getElementById('older-updates');
            const toggleBtn = document.querySelector('.toggle-updates');

            if (olderUpdates.style.display === 'none') {
                olderUpdates.style.display = 'block';
                toggleBtn.textContent = 'Hide Older Updates';

                // Smooth scroll animation
                setTimeout(() => {
                    olderUpdates.scrollIntoView({
                        behavior: 'smooth',
                        block: 'nearest'
                    });
                }, 100);
            } else {
                olderUpdates.style.display = 'none';
                toggleBtn.textContent = 'Show All Updates';
            }
        }

        // Announcement Banner Management
        function closeAnnouncement() {
            const banner = document.getElementById('announcement-banner');
            banner.style.animation = 'slideOut 0.5s ease-in-out forwards';

            setTimeout(() => {
                banner.classList.add('hidden');
                // Remember that user closed it for this session
                sessionStorage.setItem('announcementClosed', 'true');
            }, 500);
        }

        function calculateNextUpdate() {
            // Base date: September 24, 2025 (today)
            const baseDate = new Date('2025-09-24T12:00:00');
            const now = new Date();

            // Calculate days since base date
            const daysSinceBase = Math.floor((now - baseDate) / (1000 * 60 * 60 * 24));

            // Next update is every 2 days from base date
            const nextUpdateDays = Math.ceil((daysSinceBase + 1) / 2) * 2;

            // Calculate next update date
            const nextUpdate = new Date(baseDate);
            nextUpdate.setDate(baseDate.getDate() + nextUpdateDays);

            return nextUpdate;
        }

        function updateCountdown() {
            const countdownElement = document.getElementById('countdown-timer');
            if (!countdownElement) return;

            const nextUpdate = calculateNextUpdate();
            const now = new Date();
            const timeDiff = nextUpdate - now;

            if (timeDiff <= 0) {
                countdownElement.textContent = 'Update available now! üéâ';
                return;
            }

            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));

            let countdownText = 'Next update in: ';

            if (days > 0) {
                countdownText += `${days}d ${hours}h`;
            } else if (hours > 0) {
                countdownText += `${hours}h ${minutes}m`;
            } else {
                countdownText += `${minutes}m`;
            }

            countdownElement.textContent = countdownText;
        }

        function initAnnouncement() {
            // Check if user closed announcement this session
            if (sessionStorage.getItem('announcementClosed') === 'true') {
                document.getElementById('announcement-banner').classList.add('hidden');
                return;
            }

            // Update countdown immediately and then every minute
            updateCountdown();
            setInterval(updateCountdown, 60000);
        }

        // Animation effects
        function createRandomShape() {
            const shape = document.createElement('div');
            shape.className = 'shape';
            shape.style.left = Math.random() * 100 + '%';
            shape.style.width = (Math.random() * 60 + 40) + 'px';
            shape.style.height = shape.style.width;
            shape.style.animationDelay = '0s';
            shape.style.animationDuration = (Math.random() * 10 + 10) + 's';

            document.querySelector('.floating-shapes').appendChild(shape);

            setTimeout(() => {
                if (shape.parentNode) {
                    shape.parentNode.removeChild(shape);
                }
            }, 20000);
        }

        // Initialize - Chrome compatibility improvements
        function initializeGameHub() {
            try {
                loadStats();
                initAnnouncement();

                // Create floating shapes periodically
                setInterval(createRandomShape, 3000);

                // Force Chrome to recognize scrollable area
                document.body.style.height = 'auto';

                console.log('üéÆ Game Hub loaded successfully!');
            } catch (error) {
                console.error('Error initializing Game Hub:', error);
            }
        }

        // Multiple initialization methods for Chrome compatibility
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeGameHub);
        } else {
            initializeGameHub();
        }

        window.addEventListener('load', function () {
            // Force repaint for Chrome
            document.body.style.display = 'none';
            document.body.offsetHeight; // Trigger reflow
            document.body.style.display = '';
        });

        // Add click effects to game cards
        document.querySelectorAll('.game-card').forEach(card => {
            card.addEventListener('click', function (e) {
                // Create ripple effect
                const ripple = document.createElement('div');
                ripple.style.cssText = `
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.6);
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    pointer-events: none;
                `;

                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = (e.clientX - rect.left - size / 2) + 'px';
                ripple.style.top = (e.clientY - rect.top - size / 2) + 'px';

                this.appendChild(ripple);

                setTimeout(() => {
                    if (ripple.parentNode) {
                        ripple.parentNode.removeChild(ripple);
                    }
                }, 600);
            });
        });

        // Add ripple animation CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Server Status Check
        async function updateServerStatus() {
            const statusElement = document.getElementById('server-status');
            const indicatorElement = document.getElementById('server-indicator');
            const textElement = document.getElementById('server-text');

            try {
                // Directly check Worker endpoint
                const response = await fetch(WORKER_URL, { method: 'GET' });
                if (response.ok) {
                    statusElement.className = 'server-status online';
                    indicatorElement.textContent = 'üü¢';
                    textElement.textContent = 'Server Online';
                } else {
                    statusElement.className = 'server-status offline';
                    indicatorElement.textContent = 'üî¥';
                    textElement.textContent = 'Server Offline (Local Mode)';
                }
            } catch (error) {
                statusElement.className = 'server-status offline';
                indicatorElement.textContent = 'üî¥';
                textElement.textContent = 'Server Offline (Local Mode)';
            }
        }

        // Check server status every 30 seconds (will be started after API client loads)
        let serverStatusInterval;

        // Authentication System
        let currentUser = null;
        let authMode = 'login'; // 'login' or 'register'

        // Initialize auth system on page load
        function initAuth() {
            // Check if user is already logged in via API
            if (window.gameHubAPI && window.gameHubAPI.isLoggedIn()) {
                currentUser = window.gameHubAPI.user;
                showUserInfo();
            } else {
                // Fallback: check localStorage for backwards compatibility
                const savedUser = localStorage.getItem('currentUser');
                if (savedUser) {
                    currentUser = JSON.parse(savedUser);
                    showUserInfo();
                }
            }
        }

        function openAuthModal(mode = 'login') {
            authMode = mode;
            const modal = document.getElementById('auth-modal');
            const title = document.getElementById('auth-title');
            const submitBtn = document.getElementById('auth-submit-btn');
            const confirmField = document.getElementById('auth-confirm');
            const switchText = document.getElementById('auth-switch-text');
            const switchLink = document.getElementById('auth-switch-link');

            if (mode === 'login') {
                title.textContent = 'Login';
                submitBtn.textContent = 'Login';
                confirmField.style.display = 'none';
                switchText.textContent = "Don't have an account?";
                switchLink.textContent = 'Register';
            } else {
                title.textContent = 'Register';
                submitBtn.textContent = 'Register';
                confirmField.style.display = 'block';
                switchText.textContent = 'Already have an account?';
                switchLink.textContent = 'Login';
            }

            // Clear form and errors
            document.getElementById('auth-form').reset();
            hideAuthError();

            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeAuthModal() {
            const modal = document.getElementById('auth-modal');
            modal.classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function switchAuthMode() {
            authMode = authMode === 'login' ? 'register' : 'login';
            openAuthModal(authMode);
        }

        function showAuthError(message) {
            const errorDiv = document.getElementById('auth-error');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        function hideAuthError() {
            const errorDiv = document.getElementById('auth-error');
            errorDiv.style.display = 'none';
        }

        async function handleAuth(event) {
            event.preventDefault();

            const username = document.getElementById('auth-username').value.trim();
            const password = document.getElementById('auth-password').value;
            const confirmPassword = document.getElementById('auth-confirm').value;
            const submitBtn = document.getElementById('auth-submit-btn');

            // Validation
            if (!username || !password) {
                showAuthError('Please fill in all required fields');
                return;
            }

            if (username.length < 3) {
                showAuthError('Username must be at least 3 characters long');
                return;
            }

            if (password.length < 6) {
                showAuthError('Password must be at least 6 characters long');
                return;
            }

            if (authMode === 'register' && password !== confirmPassword) {
                showAuthError('Passwords do not match');
                return;
            }

            // Disable submit button during request
            submitBtn.disabled = true;
            submitBtn.textContent = authMode === 'login' ? 'Logging in...' : 'Registering...';
            hideAuthError();

            try {
                // Check if API client is loaded
                if (!window.gameHubAPI) {
                    console.warn('API client not loaded, using local fallback');
                    await handleLocalAuth(username, password);
                    return;
                }

                let result;

                if (authMode === 'register') {
                    result = await window.gameHubAPI.register(username, password);

                    // Show welcome message
                    setTimeout(() => {
                        alert(`Welcome to Game Hub, ${username}! üéÆ\nYour account has been created successfully!`);
                    }, 500);
                } else {
                    result = await window.gameHubAPI.login(username, password);

                    // Show welcome back message
                    setTimeout(() => {
                        alert(`Welcome back, ${username}! üéÆ`);
                    }, 500);
                }

                // Update UI
                currentUser = result.user;
                showUserInfo();
                closeAuthModal();

                // Update server status if login was successful
                updateServerStatus();

            } catch (error) {
                console.error('Authentication error:', error);
                showAuthError(error.message || 'Authentication failed. Please try again.');

                // If server is down, try local fallback for login only
                if (authMode === 'login' && error.message.includes('fetch')) {
                    try {
                        await handleLocalAuth(username, password);
                    } catch (localError) {
                        showAuthError('Server is offline and no local account found');
                    }
                }
            } finally {
                // Re-enable submit button
                submitBtn.disabled = false;
                submitBtn.textContent = authMode === 'login' ? 'Login' : 'Register';
            }
        }

        // Fallback to local authentication when server is down
        async function handleLocalAuth(username, password) {
            const users = JSON.parse(localStorage.getItem('gameHubUsers') || '{}');

            if (authMode === 'register') {
                // Check if user already exists
                if (users[username]) {
                    throw new Error('Username already exists');
                }

                // Create new user
                const newUser = {
                    id: Date.now(), // Simple ID generation for local mode
                    username: username,
                    password: btoa(password),
                    registeredAt: new Date().toISOString(),
                    gamesPlayed: 0,
                    totalScore: 0
                };

                users[username] = newUser;
                localStorage.setItem('gameHubUsers', JSON.stringify(users));

                currentUser = newUser;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                showUserInfo();
                closeAuthModal();

                setTimeout(() => {
                    alert(`Welcome to Game Hub, ${username}! üéÆ\n(Local mode - account created offline)`);
                }, 500);
            } else {
                // Login existing user
                const user = users[username];

                if (!user || user.password !== btoa(password)) {
                    throw new Error('Invalid username or password');
                }

                // Update last login
                user.lastLogin = new Date().toISOString();
                users[username] = user;
                localStorage.setItem('gameHubUsers', JSON.stringify(users));

                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                showUserInfo();
                closeAuthModal();

                setTimeout(() => {
                    alert(`Welcome back, ${username}! üéÆ\n(Offline mode)`);
                }, 500);
            }
        } function showUserInfo() {
            const container = document.getElementById('auth-container');
            container.innerHTML = `
                <div class="user-info">
                    <span class="user-name">üëã ${currentUser.username}</span>
                    <button class="logout-btn" onclick="logout()">Logout</button>
                </div>
            `;
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                // Use API logout method if available
                if (window.gameHubAPI) {
                    window.gameHubAPI.logout();
                } else {
                    // Fallback logout
                    localStorage.removeItem('currentUser');
                }

                currentUser = null;

                const container = document.getElementById('auth-container');
                container.innerHTML = `
                    <button class="auth-button" id="login-btn" onclick="openAuthModal('login')">Login</button>
                `;

                alert('You have been logged out successfully! üëã');
            }
        }        // Close modal when clicking outside
        document.getElementById('auth-modal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeAuthModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && document.getElementById('auth-modal').classList.contains('show')) {
                closeAuthModal();
            }
        });

        // Wait for API client to load, then initialize auth
        document.addEventListener('DOMContentLoaded', function () {
            // Try to load API client, with fallback if it fails
            const script = document.createElement('script');
            script.src = 'api-client.js';
            script.onload = function () {
                console.log('API client loaded successfully');
                initAuth();
                updateServerStatus();
                // Start periodic server status checks
                serverStatusInterval = setInterval(updateServerStatus, 30000);
            };
            script.onerror = function () {
                console.warn('API client failed to load, using local mode only');
                initAuth();
                updateServerStatus();
                // No need for server status checks if API client failed to load
            };
            document.head.appendChild(script);
        });

        // Vervang deze URL door jouw Worker URL
        const WORKER_URL = 'https://round-mouse-a792.stijndonckers08.workers.dev/leaderboard';

        // Online leaderboard ophalen
        function loadOnlineLeaderboard() {
            fetch(WORKER_URL)
                .then(res => res.json())
                .then(data => {
                    const tbody = document.getElementById('leaderboard-body');
                    tbody.innerHTML = '';
                    data.forEach((entry, i) => {
                        const tr = document.createElement('tr');
                        tr.innerHTML = `<td style='padding:8px;'>${i + 1}</td><td style='padding:8px;'>${entry.username}</td><td style='padding:8px;'>${entry.totalScore}</td>`;
                        tbody.appendChild(tr);
                    });
                });
        }

        // Score posten
        function submitScore(username, score, game) {
            fetch(WORKER_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, score, game })
            });
        }

        // Roep online leaderboard op bij laden
        document.addEventListener('DOMContentLoaded', loadOnlineLeaderboard);

        // Wednesday Coin Boost System
        function isWednesday() {
            return new Date().getDay() === 3; // 0=Sunday, 3=Wednesday
        }

        function getWednesdayBoostMultiplier() {
            return isWednesday() ? 2 : 1; // 2x coins on Wednesday
        }

        function showWednesdayBoostNotification() {
            if (isWednesday()) {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 80px;
                    right: 20px;
                    background: linear-gradient(45deg, #ffd700, #ffed4e);
                    color: #333;
                    padding: 15px 20px;
                    border-radius: 15px;
                    font-weight: bold;
                    z-index: 1001;
                    box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
                    animation: slideInRight 0.5s ease;
                `;
                notification.innerHTML = 'ü™ô Wednesday Coin Boost Active! 2x Coins in all games! ü™ô';
                document.body.appendChild(notification);

                // Auto-remove after 5 seconds
                setTimeout(() => {
                    notification.style.animation = 'slideOutRight 0.5s ease';
                    setTimeout(() => notification.remove(), 500);
                }, 5000);
            }
        }

        // Add CSS animations for notification
        const boostStyle = document.createElement('style');
        boostStyle.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(boostStyle);

        // Show boost notification on page load
        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(showWednesdayBoostNotification, 1000);
        });

        // Function to apply coin boost (to be used in games)
        function applyWednesdayBoost(coinAmount) {
            const boost = getWednesdayBoostMultiplier();
            return Math.floor(coinAmount * boost);
        }

        // Make boost functions globally available
        window.isWednesday = isWednesday;
        window.getWednesdayBoostMultiplier = getWednesdayBoostMultiplier;
        window.applyWednesdayBoost = applyWednesdayBoost;
    </script>
</body>

</html>